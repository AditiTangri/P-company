<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cart</title>
    <link rel="stylesheet" href="/style/style.css"> 
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>            
            
     
</head>
<body>
    <section class="header">
      
        <a href="#" > <img src="/imag/ logo.jpg" alt=""></a>
         <details><summary>All</summary>
            <div>
                <!-- Content of the dropdown -->
                <p>pants</p>
                <p>lower</p>
                <p>shirts</p>
                <p>T-SHIRTS</p>
                <p>top</p>
                <!-- Add more content if needed -->
            </div>
    </details>
    <input type="text" id="searchInput" placeholder="Enter your search query">
    <!-- Add a search icon -->
    <span id="searchIcon" class="search-icon" onclick="performSearch()">&#128269;</span>
        <ul class="navibar" id="navbar">
            <li><a href="/index.html" ><span>home</span><i class="fa fa-home"></i></a></li>
            <li><a href="/shop.html"><span>shop</span><i class="fa fa-shopping-cart"></i></a></li>
            <li><a href="/about.html"><span>about</span><i class="fa fa-info-circle"></i></a></li>
            <li><a href="/contact.html"><span>contact</span><i class="fa fa-envelope"></i></a></li>
            <li><a href="/sign.html"><span>sign</span><i class="fa fa-user"></i></a></li>
            <li  id="lg-bag"><a href="/cart.html" class="active"><i class="fa fa-shopping-basket"></i></a></li>
            <a href="#" id="close"><i class="fa fa-times"></i></a>
        </ul>
        
    <div id="mobile">
        <a href="cart.html"><i class="fa fa-shopping-basket"></i></a> 
        <i id="bar" class="fa fa-outdent"></i>
    </div>
</section>
    <section id="page-header" class="cart-header">
        <h2>Shopping Cart</h2>
        <p>Your selected items</p>
    </section>

    <section id="cart" class="section-p1">
        <table width="100%" id="cart-table">
            <thead>
                <tr>
                    <td>Remove</td>
                    <td>Image</td>
                    <td>Product</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Subtotal</td>
                </tr>
            </thead>
            <tbody id="cart-items">
                <!-- Cart items will be dynamically added here -->
            </tbody>
        </table>
    </section>

    <script src="/js/source.js"></script>
    <script>
        function displayCart() {
            const cartTable = document.getElementById('cart-items');
            const subtotalElement = document.getElementById('cart-subtotal');
            const totalElement = document.getElementById('cart-total');
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            let total = 0;
            cartTable.innerHTML = '';
            
            if (cart.length === 0) {
                cartTable.innerHTML = '<tr><td colspan="6" style="text-align: center;"><p>Your cart is empty</p><p><a href="/shop.html">Continue Shopping</a></p></td></tr>';
            } else {
                cart.forEach((item, index) => {
                    const subtotal = item.price * item.quantity;
                    total += subtotal;
                    
                    cartTable.innerHTML += `
                        <tr>
                            <td><button onclick="removeFromCart(${index})" style="border: none; background: none; cursor: pointer;"><i class="fa fa-times-circle"></i></button></td>
                            <td><img src="${item.image}" alt="${item.title}" style="width: 60px;"></td>
                            <td>${item.title}</td>
                            <td>₹${item.price}</td>
                            <td>
                                <input type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${index}, this.value)" style="width: 50px;">
                            </td>
                            <td>₹${subtotal}</td>
                        </tr>
                    `;
                });
            }

            if (subtotalElement) subtotalElement.textContent = '₹' + total;
            if (totalElement) totalElement.textContent = '₹' + total;
        }

        function removeFromCart(index) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            displayCart();
            updateCartCount();
        }

        function updateQuantity(index, newQuantity) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart[index].quantity = Math.max(1, parseInt(newQuantity) || 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            displayCart();
            updateCartCount();
        }

        // Display cart when page loads
        document.addEventListener('DOMContentLoaded', displayCart);
    </script>

    <section id="cart-add" class="section-p1">
        <div id="subtotal">
            <h3>Cart Totals</h3>
            <table>
                <tr>
                    <td>Cart Subtotal</td>
                    <td id="cart-subtotal">₹ 0</td>
                </tr>
                <tr>
                    <td>Shipping</td>
                    <td>Free</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td id="cart-total"><strong>₹ 0</strong></td>
                </tr>
            </table>
            <button class="normal" onclick="proceedToCheckout()">Proceed to checkout</button>
        </div>
    </section>

    <script src="/js/source.js"></script>
    <script>
        function removeFromCart(index) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            displayCart();
            updateCartCount();
        }

        function updateQuantity(index, newQuantity) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart[index].quantity = Math.max(1, parseInt(newQuantity) || 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            displayCart();
            updateCartCount();
        }

        function displayCart() {
            const cartTable = document.getElementById('cart-items');
            const subtotalElement = document.getElementById('cart-subtotal');
            const totalElement = document.getElementById('cart-total');
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            let total = 0;
            cartTable.innerHTML = '';
            
            if (cart.length === 0) {
                cartTable.innerHTML = '<tr><td colspan="6" style="text-align: center;"><p>Your cart is empty</p><p><a href="/shop.html">Continue Shopping</a></p></td></tr>';
            } else {
                cart.forEach((item, index) => {
                    const subtotal = item.price * item.quantity;
                    total += subtotal;
                    
                    cartTable.innerHTML += 
                        '<tr>' +
                            '<td><a href="#" onclick="removeFromCart(' + index + '); return false;"><i class="fa fa-times-circle"></i></a></td>' +
                            '<td><img src="' + item.image + '" alt="' + item.title + '" style="width: 60px;"></td>' +
                            '<td>' + item.title + '</td>' +
                            '<td>₹' + item.price + '</td>' +
                            '<td>' +
                                '<input type="number" value="' + item.quantity + '" min="1" ' +
                                    'onchange="updateQuantity(' + index + ', this.value)">' +
                            '</td>' +
                            '<td>₹' + subtotal + '</td>' +
                        '</tr>';
                });
            }

            if (subtotalElement) subtotalElement.textContent = '₹' + total;
            if (totalElement) totalElement.textContent = '₹' + total;
        }

        function removeFromCart(index) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            displayCart();
            updateCartCount();
        }

        function updateQuantity(index, newQuantity) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart[index].quantity = parseInt(newQuantity) || 1;
            localStorage.setItem('cart', JSON.stringify(cart));
            displayCart();
            updateCartCount();
        }

        function proceedToCheckout() {
            // Add checkout logic here
            alert('Proceeding to checkout...');
        }

        // Display cart when page loads
        document.addEventListener('DOMContentLoaded', displayCart);
    </script>

    <footer class="section-p1">
        <div class="col">
            <img class="logo" src="imag/ logo.jpg" alt="">
            <h4>Contact</h4>
            <p><strong>Address:</strong> 562 Wellington Road,street 32, san Francisco</p>
            <p><strong>phone:</strong> +01 2222 365 /(+91) 01 2345 6789</p>
            <p><strong>Hours:</strong>10:00 - 18:00, Mon - sat</p>
            <div class="follow">
                <h4>Follow Us</h4>
                <div class="icon">
                    <i class="fa fa-facebook"></i>
                    <i class="fa fa-twitter"></i>
                    <i class="fa fa-instagram"></i>
                    <i class="fa fa-pinterest-p"></i>
                    <i class="fa fa-youtube"></i>
                </div>
            </div>
        </div>
            <tr>
                <td><a href="#"><i class="fa fa-times-circle"></i></a></td>
                <td> <img src="https://rukminim2.flixcart.com/image/832/832/xif0q/t-shirt/b/r/g/s-cmb-po2-dab-wynk-smartees-original-imagm5vhumtz8epz.jpeg?q=70" alt=""></td>
                <td>addidas</td>
                <td>$70</td>
                <td><input type="number" value="1"></td>
                <td>$70</td>
            </tr>
            <tr>
                <td><a href="#"><i class="fa fa-times-circle"></i></a></td>
                <td> <img src="https://rukminim2.flixcart.com/image/832/832/xif0q/shopsy-t-shirt/c/f/2/m-st-brooklynhalfsleeve-black-smartees-original-imagph2fqzfy3yvk.jpeg?q=70" alt=""></td>
                <td>addidas</td>
                <td>$70</td>
                <td><input type="number" value="1"></td>
                <td>$70</td>
            </tr>
            <tr>
                <td><a href="#"><i class="fa fa-times-circle"></i></a></td>
                <td> <img src="https://rukminim2.flixcart.com/image/832/832/xif0q/t-shirt/b/q/m/m-st-santa-black-smartees-original-imagqaxfbfgzthte.jpeg?q=70" alt=""></td>
                <td>addidas</td>
                <td>$70</td>
                <td><input type="number" value="1"></td>
                <td>$70</td>
            </tr>
           </tbody>
        </table>
    </section> 

    <section id="cart-add" class="section">
        <div id="coupon">
            <h3>Apply coupon</h3>
            <div><input type="text" placeholder="enter your coupon" id="job-input">
            <button class="normal" id="apply-button">Apply</button></div>
        </div>
        <div id="Subtotal">
            <h3>Cart total</h3>
            <table>
                <tr>
                    <td>cart Subtotal</td>
                    <td>$50</td>
                </tr>
                <tr>
                    <td>shipping</td>
                    <td>free</td>

                </tr>
                <tr>
                    <td><strong>total</strong></td>
                    <td>$50</td>
                </tr>
            </table>
            <button class="normal">Proceed to check out</button>
        </div>
    </section>
    <footer  >
        <div class="col">
            <img src="/imag/ logo.jpg" alt="">
            <h4>about us</h4>
            <p><strong>Address:</strong>jawahar bhavan IIT ROORKEE</p>
            <p><strong>Phone:</strong>**********</p>
            <div class="follow">
                <h4>follow us</h4>
                <div class="icon">
                    <a href="#" class="fa fa-facebook"> </a>   
                    <a href="#" class="fa fa-twitter"> </a>  
                    <a href="#" class="fa fa-linkedin"> </a>   
                    <a href="#" class="fa fa-instagram"> </a>  
                </div>
            </div>
        </div>
        <div class="col">
    
            <h4>About</h4>
            <a href="#">About us</a>
            <a href="#">Privacy policy</a>
            <a href="#">Terms and conditions</a>
            <a href="#">contact us</a>
        </div>
        <div class="col">
    
            <h4>My account</h4>
            <a href="#">Sign In </a>
            <a href="#">Veiw cart</a>
            <a href="#">Track my order</a>
            <a href="#">Help</a>
        </div>
        <div class="col install">
            <h4>Install App</h4>
            <p>from app store or Google play</p>
            <div class="row">
                <a href="https://apps.apple.com/app/your-ios-app-id" target="_blank">
                    <img src="https://w7.pngwing.com/pngs/270/658/png-transparent-app-store-apple-google-play-apple-text-logo-mobile-phones-thumbnail.png" alt="Download on the App Store (iOS)">
                </a>
            
                <!-- Link to Google Play Store -->
                <a href="https://play.google.com/store/apps/details?id=your.android.app.package" target="_blank">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTexJ5lzjJWp0rlRO80IWZph86kxb8bU7-mkvwJx-MLnw&s" alt="Get it on Google Play (Android)">
                </a>
            </div>
        </div>
       </footer>
   <script src="/js/source.js"></script>
   <script>
   document.addEventListener('DOMContentLoaded', function() {
    const applyButton = document.getElementById('apply-button');
    const jobInput = document.getElementById('job-input');

    if (applyButton) {
        applyButton.addEventListener('click', function() {
            const jobCode = jobInput.value.trim(); // Remove leading/trailing spaces

            if (jobCode) {
                // Application successful
                const resultMessage = 'Application successful! You applied coupon code: ' + jobCode;

                // Encode the message for URL
                const encodedMessage = encodeURIComponent(resultMessage);

                // Redirect to another page with the result message in the URL
                window.location.href = 'result.html?message=' + encodedMessage;
            } else {
                // Empty input, show error
                const errorMessage = 'Error: Please enter a coupon';

                // Encode the message for URL
                const encodedMessage = encodeURIComponent(errorMessage);

                // Redirect to another page with the error message in the URL
                window.location.href = 'result.html?message=' + encodedMessage;
            }
        });
    }
   }); // <-- Added missing closing brace here
   </script>
</body>
</html>